import { useEffect, useRef } from 'react';

export function HumanModel() {
  const canvasRef = useRef<HTMLCanvasElement>(null);

  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;

    const ctx = canvas.getContext('2d');
    if (!ctx) return;

    // Set canvas dimensions
    canvas.width = 418;
    canvas.height = 507;

    // Define colors
    const skinColor = '#EFB291';
    const darkSkinColor = '#EB936D';
    const neckColor = '#EFB291';
    const shirtColor = '#C4C6C8';
    const shirtDarkColor = '#96999B';

    // Helper function to draw a path
    const drawPath = (path: Path2D, fillStyle: string, opacity = 1) => {
      ctx.save();
      ctx.fillStyle = fillStyle;
      ctx.globalAlpha = opacity;
      ctx.fill(path);
      ctx.restore();
    };

    // Create paths
    const neck = new Path2D('M119.595,359.846c1.03,2.026,2.334,3.941,3.646,5.792c5.552,7.831,12.547,14.591,19.96,20.647c13.563,11.079,29.865,18.44,47.045,21.713c8.572,1.633,17.471,2.416,26.194,1.946c8.405-0.452,16.722-2.203,24.63-5.074c7.994-2.902,15.566-6.954,22.457-11.935c6.925-5.006,12.839-10.957,18.368-17.439c5.845-6.852,11.44-13.962,16.16-21.645c0.296-0.481,0.588-0.965,0.876-1.451c-11.494-5.928-39.973-15.3-46.006-28.087c-6.059-12.844-0.989-81.48-0.989-81.48h-83.434c0,0,5.616,74.083-3.688,83.387c-11.256,11.256-38.666,23.534-47.632,28.07C117.911,356.174,118.679,358.045,119.595,359.846z');

    const neckShadow = new Path2D('M170.03,297.141c1.969,1.673,3.855,3.45,5.848,5.093c3.39,2.796,7.274,4.903,11.259,6.728c7.935,3.633,16.538,5.683,25.27,5.823c7.241,0.116,14.498-0.905,21.462-2.874c5.676-1.605,11.182-3.867,16.301-6.806c-1.005-24.75,1.766-62.272,1.766-62.272h-83.434C168.503,242.833,170.782,272.909,170.03,297.141z');

    const neckShadow2 = new Path2D('M258.547,331.249c-0.248,2.563-0.573,5.117-1.002,7.657c-1.03,6.089-2.649,12.115-5.24,17.735c-2.497,5.417-5.949,10.36-10.441,14.309c-4.255,3.741-9.228,6.597-14.518,8.602c-5.386,2.041-11.098,3.197-16.843,3.551c-5.782,0.357-11.625-0.105-17.273-1.398c-5.552-1.272-11.017-3.354-15.845-6.4c-5.05-3.186-9.149-7.641-11.682-13.065c-3.07-6.574-4.039-13.86-4.832-20.996c-0.372-3.352-0.134-6.675-0.001-10.034c0.02-0.509,0.038-1.021,0.049-1.535c-12.74,10.218-35.681,20.542-43.736,24.618c0.728,1.884,1.496,3.755,2.412,5.556c1.03,2.026,2.334,3.941,3.646,5.792c5.552,7.831,12.547,14.591,19.96,20.647c13.563,11.079,29.865,18.44,47.045,21.713c8.572,1.633,17.471,2.416,26.194,1.946c8.405-0.452,16.722-2.203,24.63-5.074c7.994-2.902,15.566-6.954,22.457-11.935c6.925-5.006,12.839-10.957,18.368-17.439c5.845-6.852,11.44-13.962,16.16-21.645c0.296-0.481,0.588-0.965,0.876-1.451C289.628,347.602,269.195,340.546,258.547,331.249z');

    const shirt = new Path2D('M412.161,499.803c-3.101-15.249-15.953-97.977-25.469-110.891c-10.113-13.724-89.705-41.302-121.743-56.605c0.359,1.128,0.673,2.271,0.934,3.426c1.143,5.066,1.388,10.319,0.922,15.485c-0.469,5.208-1.643,10.355-3.471,15.254c-1.756,4.708-4.11,9.221-7.145,13.236c-2.616,3.461-5.776,6.444-9.314,8.949c-3.68,2.606-7.72,4.681-11.919,6.31c-4.378,1.698-8.944,2.907-13.577,3.67c-2.701,0.445-5.427,0.737-8.16,0.881v-0.192c-1.437,0.131-2.877,0.223-4.318,0.266c-0.281,0.009-0.563,0.01-0.844,0.015c-0.282-0.005-0.563-0.006-0.844-0.015c-1.441-0.043-2.881-0.134-4.318-0.266v0.192c-2.733-0.144-5.459-0.436-8.16-0.881c-4.632-0.763-9.198-1.972-13.577-3.67c-4.2-1.629-8.239-3.704-11.919-6.31c-3.538-2.505-6.698-5.488-9.314-8.949c-3.034-4.014-5.388-8.527-7.145-13.236c-1.827-4.899-3.001-10.046-3.471-15.254c-0.465-5.165-0.221-10.419,0.922-15.485c0.261-1.155,0.574-2.298,0.934-3.426C119.129,347.61,45.243,372.728,35.13,386.453c-8.858,12.022-24.033,89.922-28.854,113.35H412.161z');

    const shirtShadow = new Path2D('M257.317,327.246c0.583,7.819,1.159,32.209-12.372,47.477c-3.732,4.211-8.354,7.472-13.74,9.692c-6.38,2.63-14.04,3.9-22.762,3.781c-16.591-0.23-29.076-5.204-37.108-14.781c-12.35-14.726-11.845-35.333-11.114-44.012c-0.007,0.003,0.148-0.94,0.141-0.937c-5.79,2.275-11.577,4.536-17.237,7.12c-0.036,13.289,2.158,33.062,15.158,48.628c11.341,13.58,28.138,20.618,49.925,20.921c0.465,0.006,0.928,0.01,1.389,0.01c20.633,0,36.811-6.478,48.098-19.266c13.922-15.773,16.614-36.046,16.77-49.543C271.466,333.993,259.781,328.967,257.317,327.246z');

    const face = new Path2D('M297.707,158.816c1.553-17.464,2.537-34.964,1.268-52.496c-0.848-11.724-3.172-24.34-11.955-32.366c-4.011-3.666-9.059-6.049-14.143-8.077c-28.487-11.363-63.554-14-93.268-5.664c-14.393,4.038-27.771,11.157-39.726,19.973c-4.738,3.494-9.081,7.406-12.182,11.886c-0.631,1.425-1.164,2.892-1.567,4.394c-0.516,1.922-0.644,3.913-0.775,5.89c-2.127,32.074,0.993,64.215,5.789,95.933c2.058,13.614,4.676,27.097,6.778,40.743c2.105,13.666,4.081,31.656,15.212,41.223c6.16,5.294,13.062,9.673,19.942,14.005c6.711,4.225,13.194,8.995,20.442,12.323c9.017,4.142,19.724,5.358,29.537,2.712c10.306-2.779,18.897-9.469,27.738-15.035c6.88-4.332,13.782-8.711,19.942-14.005c2.7-2.321,4.994-4.866,6.725-7.963c1.662-2.974,2.831-6.188,3.73-9.454c6.981-25.348,11.395-51.426,13.938-77.547C295.99,176.475,296.921,167.65,297.707,158.816z');

    const hair = new Path2D('M342.516,89.21c-2.28-3.081-5.313-5.529-8.499-7.62c1.804,0.208,3.64,0.149,5.441-0.07c2.709-0.329,5.647-1.076,7.734-2.933c1.058-0.942,1.734-2.17,1.918-3.577c0.06-0.458-0.563-0.424-0.803-0.242c-2.039,1.544-4.372,2.67-6.978,2.633c-2.347-0.033-4.567-0.96-6.517-2.213c-4.605-2.959-8.095-7.483-11.396-11.766c-1.586-2.058-3.132-4.149-4.78-6.158c-1.778-2.167-3.751-4.121-5.985-5.823c-5.844-4.452-13.039-7.539-20.362-8.345c-3.195-0.352-6.415-0.137-9.564,0.486c-1.4,0.277-2.841,0.634-4.223,1.137c-0.688-6.455-3.572-12.501-7.606-17.539c-4.398-5.492-10.083-9.935-16.311-13.176c-6.758-3.516-13.996-5.378-21.562-6.058c-17.75-1.596-35.406,2.705-52.096,8.378c-8.59,2.92-17.031,6.252-25.477,9.559c-4.072,1.595-8.146,3.184-12.244,4.713c-2.146,0.801-4.277,1.563-6.492,2.147c-4.785,1.263-9.791,2.121-14.753,2.002c-4.073-0.097-9.236-0.934-11.288-4.963c-0.49-0.961-0.738-2.048-0.817-3.118c-0.046-0.623-0.866-0.432-1.093-0.02c-1.981,3.581-1.873,7.664-0.06,11.291c1.501,3.003,3.899,5.393,6.75,7.071c-1.842,0.854-3.652,1.773-5.425,2.741c-5.926,3.237-11.494,7.104-16.529,11.608c-4.611,4.125-8.725,8.834-12.162,13.98c-3.458,5.179-6.259,10.883-7.817,16.928c-1.534,5.953-1.808,12.223-0.33,18.217c0.189,0.769,0.404,1.532,0.656,2.282');

    const leftEye = new Path2D('M150.43,189.948c2.205-3.141,5.011-5.943,8.373-7.9c3.853-2.242,8.263-3.439,12.72-3.756c0.369-0.026,0.739-0.04,1.11-0.048c2.232,0.214,4.397,0.625,6.411,1.223c2.693,0.8,5.077,2.047,7.054,3.642c2.742,2.499,4.685,5.53,5.906,8.81c1.208,3.245,1.795,6.655,2.139,10.087c-2.466,1.428-5.258,2.459-8.077,3.219c-3.709,1-7.544,1.582-11.36,1.892c-1.667,0.135-3.339,0.218-5.007,0.248c-2.17-0.198-4.322-0.54-6.422-1.028c-1.103-0.256-2.196-0.559-3.277-0.903c-4.454-2.341-8.599-5.282-12.299-8.65c-0.05-0.675-0.074-1.353-0.074-2.033C148.43,193.08,149.362,191.469,150.43,189.948z');

    const rightEye = new Path2D('M277.556,189.502c-2.205-3.141-5.011-5.943-8.372-7.9c-3.853-2.242-8.263-3.439-12.72-3.756c-0.369-0.026-0.739-0.04-1.11-0.048c-2.232,0.214-4.397,0.625-6.411,1.223c-2.693,0.8-5.077,2.047-7.054,3.642c-2.742,2.499-4.685,5.53-5.906,8.81c-1.208,3.245-1.795,6.655-2.139,10.087c2.466,1.428,5.258,2.459,8.077,3.219c3.709,1,7.544,1.582,11.36,1.892c1.667,0.135,3.339,0.218,5.007,0.248c2.17-0.198,4.322-0.54,6.422-1.028c1.103-0.256,2.197-0.559,3.277-0.903c4.454-2.341,8.599-5.282,12.298-8.65c0.05-0.675,0.074-1.353,0.074-2.033C279.556,192.634,278.624,191.023,277.556,189.502z');

    const leftIris = new Path2D('M182.362,193.889c-1.228,5.453-6.744,8.9-12.321,7.699c-5.577-1.2-9.103-6.593-7.875-12.046c1.228-5.452,6.744-8.9,12.321-7.699C180.064,183.043,183.59,188.436,182.362,193.889z');

    const rightIris = new Path2D('M256.329,191.209c-1.228,5.453-6.744,8.9-12.321,7.699c-5.577-1.2-9.103-6.593-7.875-12.046c1.228-5.452,6.744-8.9,12.321-7.699C254.031,180.363,257.557,185.756,256.329,191.209z');

    const leftEyebrow = new Path2D('M139.448,168.878c1.357-2.908,2.91-5.615,5.066-7.487c3.511-3.049,7.819-4.273,11.913-4.931c4.197-0.674,8.438-0.713,12.656-0.49c5.432,0.288,10.857,0.937,16.231,2.04c4.354,0.894,8.677,2.089,12.923,3.665c-0.577,2.267-1.35,4.497-2.301,6.537');

    const rightEyebrow = new Path2D('M287.302,168.878c-1.357-2.908-2.91-5.615-5.066-7.487c-3.511-3.049-7.819-4.273-11.913-4.931c-4.197-0.674-8.438-0.713-12.656-0.49c-5.431,0.288-10.857,0.937-16.231,2.04c-4.354,0.894-8.677,2.089-12.924,3.665c0.577,2.267,1.35,4.497,2.301,6.537');

    const lips = new Path2D('M206.337,232.896c-3.412-0.475-6.713-1.477-9.883-2.781c0.259,1.31,0.888,2.552,1.798,3.636c1.545,1.839,3.654,3.215,5.887,4.129c2.055,0.841,4.386,1.392,6.622,1.114c2.82-0.351,5.583-1.393,7.975-2.883c2.103-1.31,4.049-3.087,5.097-5.331c-2.02,0.749-4.089,1.368-6.208,1.786C213.905,233.298,210.095,233.419,206.337,232.896z');

    // Add ears
    const ears = new Path2D('M92.544,499.803c-0.014-0.405-0.03-0.811-0.043-1.216c-0.095-2.829-0.161-5.659-0.219-8.489c-0.114-5.518-0.372-11.046-0.162-16.563c0.202-5.317,0.634-10.623,0.821-15.94c0.16-4.541,0.157-9.116-0.378-13.634c-0.649,4.593-1.417,9.169-2.131,13.752c-1.484,9.526-2.507,19.139-2.598,28.787c-0.042,4.438,0.089,8.872,0.287,13.304H92.544z M329.86,499.803c0.014-0.405,0.03-0.811,0.043-1.216c0.095-2.829,0.16-5.659,0.219-8.489c0.114-5.518,0.372-11.046,0.162-16.563c-0.202-5.317-0.634-10.623-0.821-15.94c-0.16-4.541-0.156-9.116,0.378-13.634c0.65,4.593,1.417,9.169,2.131,13.752c1.484,9.526,2.508,19.139,2.598,28.787c0.042,4.438-0.089,8.872-0.287,13.304H329.86z');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Scale and center the drawing
    ctx.save();
    ctx.scale(0.8, 0.8);
    ctx.translate(canvas.width * 0.125, canvas.height * 0.125);

    // Draw elements in order
    drawPath(hair, '#424346');
    drawPath(face, skinColor);
    drawPath(neck, neckColor);
    drawPath(neckShadow, neckColor, 0.64);
    drawPath(neckShadow2, neckColor, 0.64);
    drawPath(shirt, shirtColor);
    drawPath(shirtShadow, shirtDarkColor);
    drawPath(ears, shirtColor); // Add ears
    drawPath(leftEyebrow, '#222326');
    drawPath(rightEyebrow, '#222326');
    drawPath(leftEye, '#FFFFFF');
    drawPath(rightEye, '#FFFFFF');
    drawPath(leftIris, '#4A1A05');
    drawPath(rightIris, '#4A1A05');
    drawPath(lips, darkSkinColor, 0.64);

    ctx.restore();

    // Cleanup
    return () => {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    };
  }, []);

  return (
    <div className="w-full h-full flex items-center justify-center bg-zinc-900/50 backdrop-blur-sm border border-zinc-800 rounded-lg p-6">
      <canvas ref={canvasRef} className="max-w-full max-h-full" />
    </div>
  );
}